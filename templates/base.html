<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>{% block title %}高校社团管理{% endblock %}</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
	<header class="site-header">
		<nav class="navbar">
			<a class="brand" href="{{ url_for('index') }}">高校社团管理</a>
			<div class="nav-links">
				<a href="{{ url_for('list_clubs') }}">社团列表</a>
				<a href="{{ url_for('list_messages') }}">社团消息</a>
				{% if g.user and g.user.is_admin %}
					<a href="{{ url_for('review_finance') }}">经费审核</a>
				{% endif %}
				{% if g.user %}
					<span class="user">你好，{{ g.user.username }}{% if g.user.is_admin %}（管理员）{% endif %}</span>
					<form method="post" action="{{ url_for('logout') }}" style="display:inline;">
						<button class="button ghost" type="submit">退出</button>
					</form>
				{% else %}
					<a class="button ghost" href="{{ url_for('login') }}">登录</a>
					<a class="button primary" href="{{ url_for('register') }}">注册</a>
				{% endif %}
			</div>
		</nav>
	</header>

	<main class="container">
		{% with messages = get_flashed_messages(with_categories=true) %}
			{% if messages %}
				<ul class="flash-list">
					{% for category, message in messages %}
						<li class="flash {{ category }}">{{ message }}</li>
					{% endfor %}
				</ul>
			{% endif %}
		{% endwith %}

		{% block content %}{% endblock %}
	</main>

	<footer class="footer">© 武汉理工社团管理系统</footer>
</body>
</html>


